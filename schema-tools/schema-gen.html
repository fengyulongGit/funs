<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> <!-- for HTML5 -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="./static/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="./static/css/schema.css"/>
</head>
<body>

<table>
    <tr>
        <td style="">
            <div style="overflow-y: scroll;max-height: 750px;">
                <table id="table_scheam"></table>
            </div>
        </td>
        <td width="400px;">
            <div id="div_schema" style="width: 100%;">
            </div>
            <p style="margin-top: 20px;">
                默认存放路径：
                <input type="text" id="default_dir" value="/Users/zhangguanjie/Desktop/店铺创意/海豹模板/模板/"
                       onchange="initTemplate()" style="width: 50%;"/>
            </p>
            <p style="margin-top: 20px;">
                <textarea id="template_result" style="width: 100%;height: 100px;"></textarea>
            </p>
            <p style="margin-top: 20px;">
                <input type="button" value="解析" onclick="decode()" style="width: 40%;height: 40px;"/>
                <input type="button" value="下载" onclick="download()" style="width: 40%;height: 40px;margin-left: 10%;"/>
            </p>
            <p style="margin-top: 20px;margin-bottom: 20px;display: none;"><a href="http://www.bejson.com/"
                                                                              target="_black">json格式化</a>
            </p>
        </td>
    </tr>
</table>
</body>
</html>
<script type="text/javascript" src="./static/js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="./static/js/FileSaver.js"></script>
<script type="text/javascript" src="./static/js/template.js"></script>
<script type="text/javascript" src="./static/js/schema.js"></script>
<script type="text/javascript">
    function decode() {
        template = JSON.parse($("#template_result").val())
        initTemplate()
    }

    function download() {
        var blob = new Blob([$("#template_result").val()], {type: "text/plain;charset=utf-8"});
        saveAs(blob, "0.json");
    }

    $(document).ready(function () {
        // alert(template.class)
        initTemplate()
    })
</script>